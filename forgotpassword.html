<html>
	<head>
		<title>Forgot Password</title>
	</head>
	
	<body>
		<h1>Forgot Password</h1>
  		<form>     
            <!-- Username -->
		    <p id='pUsernameMsg'>Username</p>	
			<input id='txtUname' type='text' placeholder='Username'>
            <p id='pUsernameReqMsg' style="color:red;"></p>  	

            <!-- Submit user name -->
            <p>
            <button id='btnSubmitUser' type='button' onClick=retrieveSecurityQuestions()>Get Security Questions</button>
            </p>

            <!-- Use email verification -->
            <p id='pEmailMsg'>Email</p>	
            <button id='btnSendEmail' type='button' onClick=sendVerificationToEmail()>Send email</button>

            <!-- Security Questions -->
            <p id='pSecurityQuestionsMsg'>Security Questions</p>
            <!-- Question 1 -->	
			<p id='txtSecureQ1' type='text'>Q1: placeholderQ1</p>
            <input id='txtSecureQ1Ans' type='text' placeholder='Answer'>
            
            <!-- Question 2 -->
            <p id='txtSecureQ2' type='text'>Q2: placeholderQ2</p>
            <input id='txtSecureQ2Ans' type='text' placeholder='Answer'>
            
            <!-- Question 3 -->
            <p id='txtSecureQ3' type='text'>Q3: placeholderQ3</p>
            <input id='txtSecureQ3Ans' type='text' placeholder='Answer'>
            
            
            <!-- Check security question's answers -->
            <p>
			<button id='btnSubmitAnswers' type='button' onClick=confirmAnswers()>Submit answers</button>
            </p>
		</form>
	</body>
</html>

<script>
    // Send an email to the user's email address for verification
    function sendVerificationToEmail()
    {
        console.log("No email verification available at the current time.");
    }

    // Set the questions to answer
    function setQuestions(q1, q2, q3)
    {
        document.getElementById('txtSecureQ1').innerHTML = q1;
        document.getElementById('txtSecureQ2').innerHTML = q2;
        document.getElementById('txtSecureQ3').innerHTML = q3;
    }

    function retrieveSecurityQuestions()
    {
        //getUsername();
        // send username to server
        // get questions back -> Q1, Q2, Q3
        console.log("Using placeholder security questions.");
        var q1 = "Color?";
        var q2 = "Food?";
        var q3 = "Number?";
        setQuestions(q1, q2, q3);
        console.log("Security questions retrieved.");
    }

    // Check the answers
    function confirmAnswers()
    {
        console.log("Server contact required. (function confirmAnswers())");
        // Send answers to server for checking
        // username = getUsername();
        // send(username, getAnswers())

        // Get response from server        
    }

    // Get the entered answers
    function getAnswers()
    {
        securityQ1Ans = document.getElementById('txtSecureQ1Ans').value;
        securityQ2Ans = document.getElementById('txtSecureQ2Ans').value;
        securityQ3Ans = document.getElementById('txtSecureQ3Ans').value;

        answerText =       
            securityQ1Ans + ' \n' +
            securityQ2Ans + ' \n' +
            securityQ3Ans;

        return answerText;
    }

    function getUsername()
    {
        return document.getElementById('txtUname').value;
    }
</script>
